{"version":3,"file":"getSlides.js","sourceRoot":"","sources":["../../src/presets/getSlides.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAS9C,OAAO,EAAE,WAAW,EAAE,MAAM,oBAAoB,CAAC;AAyBjD,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,EACxB,IAAI,GAAG,UAAU,EACjB,OAAO,GAAG,EAAE,GACE,EAAmB,EAAE,CACnC,CAAC;IACC,GAAG,EAAE,QAAQ;IAEb,MAAM,EAAE,CAAC,EAAE,WAAW,EAAQ,EAAW,EAAE,CACzC,WAAW,CAAC,MAAM,KAAK,WAAW;IAEpC,MAAM,EAAE,CACN,KAIC,EACD,KAIC,EACO,EAAE;QACV,MAAM,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;QACzC,MAAM,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;QAEzC,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,KAAK,OAAO;YAC3C,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,OAAO,IAAI,CAAC,OAAO;YAAE,OAAO,CAAC,CAAC,CAAC;QACnC,IAAI,CAAC,OAAO,IAAI,OAAO;YAAE,OAAO,CAAC,CAAC;QAElC,OAAO,UAAU,CACf,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,EACjC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAClC,CAAC;IACJ,CAAC;IAED,IAAI;IACJ,MAAM,EAAE,UAAU;IAElB,WAAW,EAAE,CAAC,UAAkB,EAAE,EAAE,CAAC,CAAC;QACpC,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC,IAAI,QAAQ;QACtC,GAAG,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE;QACrB,KAAK,EAAE,KAAK;QACZ,IAAI,EAAE,KAAK;QACX,OAAO,EAAE,KAAK;KACf,CAAC;CACH,CAA+B,CAAC","sourcesContent":["import { dateSorter } from \"@vuepress/helper\";\nimport type { BlogTypeOptions } from \"@vuepress/plugin-blog\";\nimport type { GitData } from \"@vuepress/plugin-git\";\nimport type { Page } from \"vuepress\";\n\nimport type {\n  ArticleInfoData,\n  ThemeNormalPageFrontmatter,\n} from \"../shared/index.js\";\nimport { ArticleInfo } from \"../shared/index.js\";\n\nexport interface SlidesOptions {\n  /**\n   * Path of this blog type\n   *\n   * 此博客类型的路径\n   *\n   * @default \"/slides/\"\n   */\n  path?: string;\n\n  /**\n   * Locales for the blog type\n   *\n   * 博客类型的本地化文文字\n   *\n   * @example {\n   *  '/': 'Slides',\n   *  '/zh/': '幻灯片',\n   * }\n   */\n  locales?: Record<string, string>;\n}\n\nexport const getSlides = ({\n  path = \"/slides/\",\n  locales = {},\n}: SlidesOptions): BlogTypeOptions =>\n  ({\n    key: \"slides\",\n\n    filter: ({ frontmatter }: Page): boolean =>\n      frontmatter.layout === \"SlidePage\",\n\n    sorter: (\n      pageA: Page<\n        { git: GitData },\n        ThemeNormalPageFrontmatter,\n        { routeMeta: ArticleInfoData }\n      >,\n      pageB: Page<\n        { git: GitData },\n        ThemeNormalPageFrontmatter,\n        { routeMeta: ArticleInfoData }\n      >,\n    ): number => {\n      const prevKey = pageA.frontmatter.sticky;\n      const nextKey = pageB.frontmatter.sticky;\n\n      if (prevKey && nextKey && prevKey !== nextKey)\n        return Number(nextKey) - Number(prevKey);\n      if (prevKey && !nextKey) return -1;\n      if (!prevKey && nextKey) return 1;\n\n      return dateSorter(\n        pageA.routeMeta[ArticleInfo.date],\n        pageB.routeMeta[ArticleInfo.date],\n      );\n    },\n\n    path,\n    layout: \"BlogType\",\n\n    frontmatter: (localePath: string) => ({\n      title: locales[localePath] ?? \"Slides\",\n      dir: { index: false },\n      index: false,\n      feed: false,\n      sitemap: false,\n    }),\n  }) as unknown as BlogTypeOptions;\n"]}