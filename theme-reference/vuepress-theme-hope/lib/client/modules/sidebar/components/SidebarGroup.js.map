{"version":3,"file":"SidebarGroup.js","sourceRoot":"","sources":["../../../../../src/client/modules/sidebar/components/SidebarGroup.ts"],"names":[],"mappings":"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","sourcesContent":["import type { PropType, VNode } from \"vue\";\nimport { computed, defineComponent, h, ref, resolveComponent } from \"vue\";\nimport { useRoute } from \"vuepress/client\";\n\nimport AutoLink from \"@theme-hope/components/AutoLink\";\nimport SidebarLinks from \"@theme-hope/modules/sidebar/components/SidebarLinks\";\nimport { isActiveSidebarItem } from \"@theme-hope/modules/sidebar/utils/index\";\nimport { isActiveItem } from \"@theme-hope/utils/index\";\n\nimport type { SidebarGroupItem } from \"../utils/index.js\";\n\nimport \"../styles/sidebar-group.scss\";\n\nexport default defineComponent({\n  name: \"SidebarGroup\",\n\n  props: {\n    /**\n     * Sidebar group item config\n     *\n     * 侧边栏分组配置\n     */\n    config: {\n      type: Object as PropType<SidebarGroupItem>,\n      required: true,\n    },\n\n    /**\n     * Whether current group is open\n     *\n     * 当前分组是否展开\n     */\n    open: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  emits: [\"toggle\"],\n\n  setup(props, { emit }) {\n    const route = useRoute();\n\n    const hasBeenToggled = ref(false);\n\n    const active = computed(() => isActiveSidebarItem(route, props.config));\n\n    const exact = computed(() => isActiveItem(route, props.config));\n\n    const shouldOpen = computed(\n      () => props.open || (props.config.expanded && !hasBeenToggled.value),\n    );\n\n    return (): VNode => {\n      const {\n        collapsible,\n        children = [],\n        icon,\n        prefix,\n        link,\n        text,\n      } = props.config;\n\n      return h(\"section\", { class: \"vp-sidebar-group\" }, [\n        h(\n          collapsible ? \"button\" : \"p\",\n          {\n            class: [\n              \"vp-sidebar-header\",\n              {\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                clickable: collapsible || link,\n                exact: exact.value,\n                active: active.value,\n              },\n            ],\n            ...(collapsible\n              ? {\n                  type: \"button\",\n                  onClick: (): void => {\n                    hasBeenToggled.value = true;\n                    emit(\"toggle\");\n                  },\n                }\n              : {}),\n          },\n          [\n            // Icon\n            h(resolveComponent(\"VPIcon\"), { icon, sizing: \"both\" }),\n            // Title\n            link\n              ? h(AutoLink, {\n                  class: \"vp-sidebar-title no-external-link-icon\",\n                  config: { text, link },\n                })\n              : h(\"span\", { class: \"vp-sidebar-title\" }, text),\n            // Arrow\n            collapsible\n              ? h(\"span\", {\n                  class: [\"vp-arrow\", shouldOpen.value ? \"down\" : \"end\"],\n                })\n              : null,\n          ],\n        ),\n\n        shouldOpen.value || !collapsible\n          ? h(SidebarLinks, { key: prefix, config: children })\n          : null,\n      ]);\n    };\n  },\n});\n"]}