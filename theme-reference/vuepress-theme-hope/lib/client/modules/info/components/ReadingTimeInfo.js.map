{"version":3,"file":"ReadingTimeInfo.js","sourceRoot":"","sources":["../../../../../src/client/modules/info/components/ReadingTimeInfo.ts"],"names":[],"mappings":"AAKA,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAEnD,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACxD,OAAO,EAAE,SAAS,EAAE,MAAM,2CAA2C,CAAC;AACtE,OAAO,EAAE,aAAa,EAAE,MAAM,4CAA4C,CAAC;AAE3E,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,iBAAiB;IAEvB,YAAY,EAAE,KAAK;IAEnB,KAAK,EAAE;QACL;;;;WAIG;QACH,WAAW,EAAE;YACX,IAAI,EAAE,MAAsC;YAC5C,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI;SACpB;QAED;;;;WAIG;QACH,iBAAiB,EAAE;YACjB,IAAI,EAAE,MAA4C;YAClD,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI;SACpB;KACF;IAED,KAAK,CAAC,KAAK;QACT,MAAM,UAAU,GAAG,aAAa,EAAE,CAAC;QACnC,MAAM,MAAM,GAAG,OAAO,EAAE,CAAC;QAEzB,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,EAAE;YACpC,IAAI,CAAC,KAAK,CAAC,WAAW;gBAAE,OAAO,IAAI,CAAC;YAEpC,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC;YAEtC,OAAO,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,OAAO,GAAiB,EAAE,CACxB,KAAK,CAAC,iBAAiB,EAAE,IAAI;YAC3B,CAAC,CAAC,CAAC,CACC,MAAM,EACN;gBACE,KAAK,EAAE,wBAAwB;gBAC/B,YAAY,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,GAC3C,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GACtB,EAAE;gBACF,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;aACtD,EACD;gBACE,CAAC,CAAC,SAAS,CAAC;gBACZ,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC;gBACvC,CAAC,CAAC,MAAM,EAAE;oBACR,QAAQ,EAAE,cAAc;oBACxB,OAAO,EAAE,eAAe,CAAC,KAAK;iBAC/B,CAAC;aACH,CACF;YACH,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import type {\n  ReadingTime,\n  ReadingTimeLocale,\n} from \"@vuepress/plugin-reading-time/client\";\nimport type { PropType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\n\nimport { usePure } from \"@theme-hope/composables/index\";\nimport { TimerIcon } from \"@theme-hope/modules/info/components/icons\";\nimport { useMetaLocale } from \"@theme-hope/modules/info/composables/index\";\n\nexport default defineComponent({\n  name: \"ReadingTimeInfo\",\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Reading time information\n     *\n     * 阅读时间信息\n     */\n    readingTime: {\n      type: Object as PropType<ReadingTime | null>,\n      default: () => null,\n    },\n\n    /**\n     * Reading time locale\n     *\n     * 阅读时间语言环境\n     */\n    readingTimeLocale: {\n      type: Object as PropType<ReadingTimeLocale | null>,\n      default: () => null,\n    },\n  },\n\n  setup(props) {\n    const metaLocale = useMetaLocale();\n    const isPure = usePure();\n\n    const readingTimeMeta = computed(() => {\n      if (!props.readingTime) return null;\n\n      const { minutes } = props.readingTime;\n\n      return minutes < 1 ? \"PT1M\" : `PT${Math.round(minutes)}M`;\n    });\n\n    return (): VNode | null =>\n      props.readingTimeLocale?.time\n        ? h(\n            \"span\",\n            {\n              class: \"page-reading-time-info\",\n              \"aria-label\": `${metaLocale.value.readingTime}${\n                isPure.value ? \"\" : \"⌛\"\n              }`,\n              ...(isPure.value ? {} : { \"data-balloon-pos\": \"up\" }),\n            },\n            [\n              h(TimerIcon),\n              h(\"span\", props.readingTimeLocale.time),\n              h(\"meta\", {\n                property: \"timeRequired\",\n                content: readingTimeMeta.value,\n              }),\n            ],\n          )\n        : null;\n  },\n});\n"]}