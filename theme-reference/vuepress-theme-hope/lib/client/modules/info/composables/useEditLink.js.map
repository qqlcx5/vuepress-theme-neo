{"version":3,"file":"useEditLink.js","sourceRoot":"","sources":["../../../../../src/client/modules/info/composables/useEditLink.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AAC/B,OAAO,EAAE,WAAW,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAC;AAElE,OAAO,EAAE,kBAAkB,EAAE,MAAM,+BAA+B,CAAC;AACnE,OAAO,EAAE,eAAe,EAAE,MAAM,sCAAsC,CAAC;AAQvE,MAAM,CAAC,MAAM,WAAW,GAAG,GAAwC,EAAE;IACnE,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;IACzC,MAAM,IAAI,GAAG,WAAW,EAAiB,CAAC;IAC1C,MAAM,WAAW,GAAG,kBAAkB,EAA8B,CAAC;IAErE,OAAO,QAAQ,CAAC,GAAG,EAAE;QACnB,MAAM,EACJ,IAAI,EACJ,QAAQ,GAAG,IAAI,EACf,UAAU,GAAG,MAAM,EACnB,OAAO,GAAG,EAAE,EACZ,QAAQ,EACR,eAAe,GAAG,EAAE,GACrB,GAAG,WAAW,CAAC,KAAK,CAAC;QAEtB,MAAM,YAAY,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,IAAI,QAAQ,IAAI,IAAI,CAAC;QAEpE,IAAI,CAAC,YAAY;YAAE,OAAO,IAAI,CAAC;QAE/B,IAAI,CAAC,QAAQ;YAAE,OAAO,IAAI,CAAC;QAE3B,MAAM,IAAI,GAAG,eAAe,CAAC;YAC3B,QAAQ;YACR,UAAU;YACV,OAAO;YACP,eAAe;YACf,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB;SAC9C,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QAEvB,OAAO;YACL,IAAI,EAAE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ;YAC5C,IAAI;SACL,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import type { ComputedRef } from \"vue\";\nimport { computed } from \"vue\";\nimport { usePageData, usePageFrontmatter } from \"vuepress/client\";\n\nimport { useThemeLocaleData } from \"@theme-hope/composables/index\";\nimport { resolveEditLink } from \"@theme-hope/modules/info/utils/index\";\n\nimport type {\n  AutoLinkOptions,\n  ThemeNormalPageFrontmatter,\n  ThemePageData,\n} from \"../../../../shared/index.js\";\n\nexport const useEditLink = (): ComputedRef<null | AutoLinkOptions> => {\n  const themeLocale = useThemeLocaleData();\n  const page = usePageData<ThemePageData>();\n  const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n\n  return computed(() => {\n    const {\n      repo,\n      docsRepo = repo,\n      docsBranch = \"main\",\n      docsDir = \"\",\n      editLink,\n      editLinkPattern = \"\",\n    } = themeLocale.value;\n\n    const showEditLink = frontmatter.value.editLink ?? editLink ?? true;\n\n    if (!showEditLink) return null;\n\n    if (!docsRepo) return null;\n\n    const link = resolveEditLink({\n      docsRepo,\n      docsBranch,\n      docsDir,\n      editLinkPattern,\n      filePathRelative: page.value.filePathRelative,\n    });\n\n    if (!link) return null;\n\n    return {\n      text: themeLocale.value.metaLocales.editLink,\n      link,\n    };\n  });\n};\n"]}