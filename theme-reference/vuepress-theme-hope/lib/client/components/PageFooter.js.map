{"version":3,"file":"PageFooter.js","sourceRoot":"","sources":["../../../src/client/components/PageFooter.ts"],"names":[],"mappings":"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","sourcesContent":["import { isString } from \"@vuepress/helper/client\";\nimport type { VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { usePageFrontmatter } from \"vuepress/client\";\n\nimport {\n  usePageAuthor,\n  useThemeData,\n  useThemeLocaleData,\n} from \"@theme-hope/composables/index\";\n\nimport type { ThemeNormalPageFrontmatter } from \"../../shared/index.js\";\n\nimport \"../styles/page-footer.scss\";\n\nexport default defineComponent({\n  name: \"PageFooter\",\n\n  setup() {\n    const themeData = useThemeData();\n    const themeLocale = useThemeLocaleData();\n    const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n    const author = usePageAuthor();\n\n    const enable = computed(() => {\n      const { copyright, footer } = frontmatter.value;\n\n      return (\n        footer !== false &&\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        Boolean(copyright || footer || themeLocale.value.displayFooter)\n      );\n    });\n\n    const content = computed(() => {\n      const { footer } = frontmatter.value;\n\n      return footer === false\n        ? false\n        : isString(footer)\n          ? footer\n          : (themeLocale.value.footer ?? \"\");\n    });\n\n    const authorText = computed(() =>\n      author.value.map(({ name }) => name).join(\", \"),\n    );\n\n    const getCopyrightText = (license?: string): string =>\n      `Copyright Â© ${new Date().getFullYear()} ${authorText.value} ${\n        license ? `${license} Licensed` : \"\"\n      }`;\n\n    const copyright = computed(() => {\n      const { copyright, license = \"\" } = frontmatter.value;\n      const { license: globalLicense } = themeData.value;\n      const { copyright: globalCopyright } = themeLocale.value;\n\n      return (\n        copyright ??\n        (license\n          ? getCopyrightText(license)\n          : (globalCopyright ??\n            (authorText.value || globalLicense\n              ? getCopyrightText(globalLicense)\n              : false)))\n      );\n    });\n\n    return (): VNode | null =>\n      enable.value\n        ? h(\"footer\", { class: \"vp-footer-wrapper\", \"vp-footer\": \"\" }, [\n            content.value\n              ? h(\"div\", { class: \"vp-footer\", innerHTML: content.value })\n              : null,\n            copyright.value\n              ? h(\"div\", {\n                  class: \"vp-copyright\",\n                  innerHTML: copyright.value,\n                })\n              : null,\n          ])\n        : null;\n  },\n});\n"]}